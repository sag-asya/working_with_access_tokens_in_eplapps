# working_with_access_tokens_in_eplapps
EPL apps provide a way to add your own logic according to the use cases into Cumulocity IoT in the form of a monitor file. One such use case could be talking to HTTP endpoints secured with authorization protocols which involve access tokens.<br />
Usually these access tokens are only valid for a certain period of time and then need to be refreshed with the authorization server once expired. In those scenarios, hard coding the token in an EPL app demands the author to redeploy the app with the updated value of the access token every time the token expires. This repository provides one possible EPL solution about how we can refresh the access token in the EPL app without having to manually modify or redeploy the app. The solution comprises of introducing a TokenFactory which will be responsible for providing token updates to all the consumers which are interested in various tokens. The code provided here can further be extended to provide an early notification of a token that is about to expire by logging a warning, triggering the refresh-token subroutine, or sending an SMS/email to the personnel responsible for managing the tokens.<br />
The following diagram provides an overview of the solution: <br />
![image](https://user-images.githubusercontent.com/75059664/142973575-b6e4f2f8-5c14-4cb9-b86c-a4afb9efda39.png)
<br/>
For a detailed explanation, please take a look at the following blog post: [Apama Community Edition Refreshing access tokens in EPL apps without redeploying](https://www.apamacommunity.com/refreshing-access-tokens-in-epl-apps/)
